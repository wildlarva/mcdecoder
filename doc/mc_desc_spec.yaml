# Specification of machine code description file
#
# Machine code description file needs to be a YAML format.

# Describes a machine
machine:
  decoder: # [optional] Decoder information for the machine
    namespace: ns # [optional] Namespace for the symbols of a generated decoder

    extras: # Container of user-defined data for the machine
      # Any structure can be defined here
      arch_type: arm

# Describes instructions
#
# Each list element represents an instruction.
instructions:
  - name: add_1 # Name of the instruction

    # Encoding format of the instruction
    #
    # Instruction fields are separated by bar symbol(|).
    #
    # <field_bits>:<field_name>[<field_bit_ranges]|...
    #
    # where
    #   <field_bits>: Encoding format of an instruction field
    #     It takes an array of 0, 1, or x.
    #     '0' or '1' represents a fixed bit of the instruction field. 'x' represents any bit.
    #
    #   <field_name>: [optional] Name of the instruction field
    #     NOTE: One field name can be used multiple times in one instruction.
    #           This constructs subfields of a field split into several bit ranges.
    #
    #   <field_bit_ranges>: [optional] Field bit ranges of an instruction field
    #     Each bit range expresses a subfield of the field.
    #     Subfields are separated by comma symbol(,).
    #     Its format is <subfield_start>:<subfield_end>,...
    #
    #   <subfield_start>: Subfield start bit position in the instruction field
    #     NOTE: This is a start bit position in a field, not in an instruction.
    #
    #   <subfield_end>: [optional] Subfield end bit position in the instruction field
    #     NOTE: This is an end bit position in a field, not in an instruction.
    format: xxxx:cond|00|1|0100|x:S|xxxx:Rn|xxxx:Rd|xxxxxxxxxxxx:imm12

    extras: # Container of user-defined data for the instruction
      # Any structure can be defined here
      clocks: 10

  - name: push_1
    format: xxxx:cond|100100|1|0|1101|xxxxxxxxxxxxxxxx:register_list

  - name: c_addi_1
    format: 000:funct3|x:imm[5]|xxxxx:dest|xxxxx:imm[4:0]|01:op

  - name: c_sd_1
    format: 111:funct3|xxxxxx:offset[5:3,8:6]|xxxxx:src|10:op
